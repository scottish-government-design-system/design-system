@use "../../base/helpers/functions/functions";
@use "../../base/helpers/media-query/media-query";
@use "../../base/settings/colours/colours";
@use "../form.mixins";

/*------------------------------------*\
    CHECKBOXES
\*------------------------------------*/

.ds_checkbox {
    @include form.radiocheckboxstates();

    &__label::after {
        background-color: transparent;
        border-style: solid;
        border-width: 0 0 functions.px-to-rem(5px) functions.px-to-rem(5px);
        border-top-color: transparent;
        left: functions.px-to-rem(7px);
        height: functions.px-to-rem(14px);
        top: functions.px-to-rem(6px);
        width: functions.px-to-rem(26px);
        transform: rotate(-45deg);
    }

    /// checked
    &__input:checked + &__label::before {
        background-color: currentColor;
    }

    &__input:not(:focus):checked + &__label::after {
        border-color: colours.$ds_colour__text--reversed;
    }

    &__input:focus:checked + &__label::before {
        background-color: colours.$ds_colour__link--focus__background;
    }

    &--small &__label::after {
        border-width: functions.px-to-rem(6px);
        left: functions.px-to-rem(14px);
        top: functions.px-to-rem(14px);
    }

    &--small &__label::after {
        width: functions.px-to-rem(13px);
        height: functions.px-to-rem(7px);
        left: functions.px-to-rem(13px);
        top: functions.px-to-rem(11px);
        border-width: 0 0 functions.px-to-rem(3px) functions.px-to-rem(3px);
    }

    .ds_question__error-message {
        margin-left: 1rem;
    }
}

.ds_checkboxes > .ds_checkbox:last-child {
    margin-bottom: 0.25rem;
}

.ds_checkbox-separator {
    font-weight: 700;
    margin: 1.5rem 0;
    text-align: center;
    width: 2.5rem;
}

@include media-query.media-query(medium) {
    .ds_checkbox {
        &__label::after {
            top: functions.px-to-rem(10px);
        }

        &--small &__label::after {
            top: functions.px-to-rem(15px);
        }
    }
}
